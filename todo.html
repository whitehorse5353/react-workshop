<!DOCTYPE html>
<html>
<head lang="en">
    <title>ReactJS - Session</title>
    <meta charset="UTF-8">
    <title>react todo</title>        
</head>
<body>    
    <div id="master" class="container"></div>
    <script type="text/javascript" src="js/react.min.js"></script>
    <script type="text/javascript" src="js/JSXTransformer.js"></script>
    <script type="text/jsx">          
        var TodoComponent = React.createClass({            
            getInitialState: function(){
                return {todoList: ['item-01', 'item-02', 'item-03']}
            },            
            render: function(){
                var item = this.state.todoList.map(function(value){
                    return <li>{value}</li>;        
                });
                return (<div>
                        <ul>
                            {item}
                        </ul>
                        <InputComponent update={this.updateState} data={this.state.todoList} />
                        </div>)
            },
            updateState: function(){
                this.setState();
            }
        });                      
        var InputComponent = React.createClass({
            render : function(){
                return (<div>                    
                    <input type='text' ref='todoItem' />
                    <input type='button' value='+' onClick={this.handleClick} />
                    </div>)
            },
            handleClick: function(e){
                var newTodoItem = this.refs.todoItem.getDOMNode();
                this.props.data.push(newTodoItem.value);
                // newTodoItem.value = '';                
                this.props.update();
            }
        });
        React.render(<TodoComponent />, document.getElementById('master'));
    </script>
</body>
</html>